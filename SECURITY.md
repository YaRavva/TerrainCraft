# Безопасность

## Важные изменения

### ⚠️ API ключ был скомпрометирован

Старый API ключ Hugging Face был удален из репозитория. **Немедленно ротируйте ключ:**

1. Перейдите на https://huggingface.co/settings/tokens
2. Удалите старый токен (начинается с `hf_`)
3. Создайте новый токен
4. Добавьте его в `.env.local` как `HUGGINGFACE_API_KEY`

### Правильная настройка переменных окружения

```env
# ✅ Правильно - серверная переменная (защищена)
HUGGINGFACE_API_KEY=your_new_api_key_here

# ❌ Неправильно - клиентская переменная (утекает в браузер)
NEXT_PUBLIC_HUGGINGFACE_API_KEY=your_api_key
```

### Что исправлено

1. **API ключ перемещен на сервер** - теперь используется только в Route Handlers
2. **Удален NEXT_PUBLIC_ префикс** - ключ больше не попадает в клиентский код
3. **Создан безопасный API endpoint** - `/api/3d-generate` для всех запросов
4. **Добавлен .env.example** - шаблон для настройки

### Проверка безопасности

Убедитесь, что `.env.local` в `.gitignore`:
```bash
git check-ignore .env.local
```

Должно вывести: `.env.local`

## Рекомендации

- Никогда не коммитьте файлы `.env*` (кроме `.env.example`)
- Используйте `NEXT_PUBLIC_` только для публичных данных (URL, флаги фич)
- Все API ключи храните в серверных переменных
- Регулярно ротируйте токены доступа
