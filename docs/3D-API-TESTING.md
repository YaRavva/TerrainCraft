# Тестирование 3D Generation API (Hugging Face)

## Обзор

Этот проект интегрирован с Hugging Face Inference API для генерации 3D моделей. Поддерживаются как Text-to-3D, так и Image-to-3D модели.

## Настройка

### 1. Получение API ключа (опционально, но рекомендуется)

1. Зарегистрируйтесь на [Hugging Face](https://huggingface.co/join)
2. Перейдите в [Settings → Tokens](https://huggingface.co/settings/tokens)
3. Создайте новый токен с правами `read`
4. Скопируйте токен

### 2. Настройка переменных окружения

Создайте файл `.env.local` в корне проекта:

```env
# Серверная переменная (без NEXT_PUBLIC_ префикса)
HUGGINGFACE_API_KEY=your_api_key_here
```

**Примечание:** Без API ключа можно использовать бесплатный tier, но с ограничениями по количеству запросов.

## Доступные модели

### Text-to-3D модели

- **SHAP_E_DIRECT** (`openai/shap-e`) - OpenAI Shap-E через прямой Inference API
- **SHAP_E_SPACE** (`openxai/shap-e`) - Shap-E через Hugging Face Space
- **POINT_E_SPACE** (`openxai/point-e`) - Point-E через Hugging Face Space

### Image-to-3D модели

- **ZERO123_SPACE** (`ashawkey/stable-zero123`) - Генерация 3D из изображения через Space

### Другие

- **THREEDY** (`lucataco/threedy`) - Популярный Space для 3D генерации от Lucataco

**Важно:** Модели с суффиксом "_SPACE" используют Hugging Face Spaces API, который может иметь другие endpoints и требования к формату данных.

## Использование

### Через веб-интерфейс

1. Запустите проект: `pnpm dev`
2. Перейдите на страницу `/3d-test`
3. Выберите модель
4. Введите текстовый промпт или URL изображения
5. Нажмите "Generate 3D Model"

### Через API

```typescript
// POST /api/3d-generate
{
  "prompt": "a red chair",  // для Text-to-3D
  "image": "https://...",   // для Image-to-3D (опционально)
  "model": "SHAP_E_DIRECT"  // SHAP_E_DIRECT | SHAP_E_SPACE | POINT_E_SPACE | ZERO123_SPACE | THREEDY
}
```

## Ограничения бесплатного tier

- **Rate limits:** Ограничения на количество запросов в минуту/час
- **Queue time:** Возможны очереди при высокой нагрузке
- **Model availability:** Не все модели могут быть доступны без токена

## Рекомендации

1. **Используйте API ключ** для лучшей производительности
2. **Тестируйте разные модели** - каждая имеет свои особенности
3. **Оптимизируйте промпты** - более детальные описания дают лучшие результаты
4. **Проверяйте формат изображений** для Image-to-3D моделей

## Альтернативные API

Если Hugging Face не подходит, можно рассмотреть:

- **Replicate API** - платные, но более стабильные
- **Stability AI** - коммерческие решения
- **OpenAI** - если доступен доступ к их 3D моделям

## Troubleshooting

### Ошибка "Model not available"
- Проверьте, что модель существует на Hugging Face
- Убедитесь, что используете правильное имя модели
- Попробуйте другую модель

### Ошибка "Rate limit exceeded"
- Добавьте API ключ для увеличения лимитов
- Подождите несколько минут перед повторной попыткой
- Рассмотрите использование платного tier

### Ошибка "Invalid input"
- Проверьте формат промпта (не должен быть пустым)
- Для Image-to-3D убедитесь, что URL изображения доступен
- Проверьте, что выбранная модель поддерживает ваш тип ввода

